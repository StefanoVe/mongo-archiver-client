<!-- component -->
<section class="antialiased lg text-gray-600">
  <div class="flex flex-col justify-center h-full">
    <!-- Table -->
    <div class="container {{ containerColor }} backdrop-blur-sm">
      <div
        class="flex {{
          tableTitle.length ? 'justify-between' : 'justify-end'
        }}  border-b border-gray-200 dark:border-gray-800"
      >
        <header class="px-5 py-4" *ngIf="tableTitle.length">
          <h2 class="font-semibold tracking-wider">
            {{ tableTitle | uppercase }}
          </h2>
        </header>
        <button
          class="my-auto rounded-lg hover:bg-gray-100 dark:hover:bg-app-dark-mode-color-400 p-2 group/refresh"
          (click)="refreshData.emit()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
            />
          </svg>
        </button>
      </div>
      <div class="p-3 h-96 overflow-y-auto overflow-x-hidden">
        <div>
          <table class="table-auto w-full">
            <thead class="text-xs font-semibold uppercase">
              <tr class="w-full">
                <th>
                  <div>{{ headers[0] }}</div>
                </th>
                <th>
                  <div>{{ headers[1] }}</div>
                </th>
                <th>
                  <div>{{ headers[2] }}</div>
                </th>
              </tr>
            </thead>
            <tbody
              class="text-sm divide-y divide-gray-200 dark:divide-gray-600"
            >
              <ng-container *ngIf="!items.length">
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
                <ng-container [ngTemplateOutlet]="SkeletonRow"></ng-container>
              </ng-container>
              <tr
                *ngFor="let item of items; let i = index"
                class="hover:scale-105 smooth cursor-pointer hover:bg-gray-200/80 dark:hover:bg-app-dark-mode-color-400"
                [class.pointer-events-none]="!item.route || readOnly"
                [routerLink]="item.route"
              >
                <td>
                  <div class="font-semibold text-center">
                    {{ item.column1 }}
                  </div>
                </td>
                <td>
                  <div class="font-semibold text-center">
                    {{ item.column2 }}
                  </div>
                </td>
                <td>
                  <div class="font-semibold text-center">
                    {{ item.column3 }}
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="p-2 py-3 flex justify-end text-sm rounded-b-lg">
        <button
          class="px-4 py-2 container {{
            containerColor
          }} hover:brightness-95 dark:hover:brightness-125 font-semibold rounded-lg shadow-lg focus:outline-none group backdrop-blur"
          style="width: fit-content; padding: 1rem"
          [routerLink]="showMoreRoute"
          [queryParams]="showMoreQueryParams"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

<ng-template #SkeletonRow>
  <tr>
    <td>
      <div class="skeleton"></div>
    </td>
    <td>
      <div class="skeleton"></div>
    </td>
    <td>
      <div class="skeleton"></div>
    </td>
  </tr>
</ng-template>
